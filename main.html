<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>海战棋</title>
    <script src="plugins/pace.min.js"></script>
    <script src="plugins/confetti.js"></script>
    <script src="plugins/typed.js"></script>
    <link href="plugins/pace-theme-default.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="styles.css">
</head>

<body onload="init();">
    <div class="start-menu menu">
        <h1>海 战 棋</h1>
        <button class="menu-button" id="start-button" onclick="startGame()">开始</button>
        <button class="menu-button" id="settings-button" onclick="settings()">设置</button>
    </div>
    <div class="settings-menu menu">
        <h2>设置</h2>
        <input type="text" id="name1" placeholder="一队队名" />
        <input type="text" id="name2" placeholder="二队队名" />
        <div>选择题库文件 <input type="file" id="quiz-input" accept=".json" placeholder=""></div>
        <div>选择舰队配置文件1 <input type="file" id="map1-input" accept=".json" placeholder=""></div>
        <div>选择舰队配置文件2 <input type="file" id="map2-input" accept=".json" placeholder=""></div>
        <button class="menu-button" id="save-button" onclick="saveSettings()">保存</button>
        <button class="menu-button" id="cancel-button" onclick="closeSettings()">取消</button>
        <button class="menu-button" onclick="startGameLocally()">加载缓存</button>
        <button class="menu-button" onclick="clearAllData()">清除缓存</button>
    </div>
    <div class="container" style="opacity: 0; pointer-events: none;">
        <div class="status-bar">
            <div class="team-info left">
                <span class="team-name1 team-name"></span>
                <div data-number="0" id="bullets1" class="tnt"><img src="resources/img/tnt.png"></img></div>
                <div class="ship-health">
                    <img src="resources/img/boat1.png" alt="Boat 1" class="ship">
                    <div class="health" id="health1-1"></div>
                </div>
                <div class="ship-health">
                    <img src="resources/img/boat2.png" alt="Boat 2" class="ship">
                    <div class="health" id="health1-2"></div>
                </div>
                <div class="ship-health">
                    <img src="resources/img/boat3.png" alt="Boat 3" class="ship">
                    <div class="health" id="health1-3"></div>
                </div>
            </div>
            <div class="game-title">
                <h1>海 战 棋</h1>
                <small>Dev: [Github] Adehit</small><br />
                <small>Artist: Minecraft</small><br />
                <small>Acknowledgement: Linrui</small><br /><br />
                <b>第 <span class="round-number"></span> 轮 （<span class="round-inside-cnt"></span>/5）</b>
            </div>
            <div class="team-info right">
                <span class="team-name2 team-name"></span>
                <div data-number="0" id="bullets2" class="tnt">
                    <img src="resources/img/tnt.png"></img>
                </div>
                <div class="ship-health">
                    <div class="health" id="health2-1"></div>
                    <img src="resources/img/boat1.png" alt="Boat 1" class="ship">
                </div>
                <div class="ship-health">
                    <div class="health" id="health2-2"></div>
                    <img src="resources/img/boat2.png" alt="Boat 2" class="ship">
                </div>
                <div class="ship-health">
                    <div class="health" id="health2-3"></div>
                    <img src="resources/img/boat3.png" alt="Boat 3" class="ship">
                </div>
            </div>
        </div><br />
        <div class="game-board">
            <div class="grid left-panel">
                <!-- Squares will be generated by JavaScript -->
            </div>
            <div class="grid middle-panel">
                <!-- Squares will be generated by JavaScript -->
            </div>
            <div class="grid right-panel">
                <!-- Squares will be generated by JavaScript -->
            </div>
        </div><br />
    </div>
    <div class="quiz-area" style="opacity: 0; pointer-events: none;">
        <div class="player-panel left-panel">
            <div class="panel-header team-name1"></div>
            <div class="player-choices">
                <div class="choice" data-choice="A" onclick="chooseAnswer(this,'left-panel')">A</div>
                <div class="choice" data-choice="B" onclick="chooseAnswer(this,'left-panel')">B</div>
                <div class="choice" data-choice="C" onclick="chooseAnswer(this,'left-panel')">C</div>
                <div class="choice" data-choice="D" onclick="chooseAnswer(this,'left-panel')">D</div>
            </div>
        </div>
        <div class="question-panel">
            <div id="question-content">等待开始</div>
            <div id="question-choices">
                <div id="cc-A" class="choice-content" style="display: inline-block;">等待开始</div>
                <div id="cc-B" class="choice-content" style="display: inline-block;">等待开始</div>
                <div id="cc-C" class="choice-content" style="display: inline-block;">等待开始</div>
                <div id="cc-D" class="choice-content" style="display: inline-block;">等待开始</div>
            </div>
            <div>
                <button class="next-button"
                    onclick="if(!canAnswer || _currentQuestionIndex === -1) { nextQuestion(); } else{ cocoMessage.warning('该题还未作答') } ">下一题</button>
                <button class="skip-button" onclick="if(canAnswer) { skipQuestion(); } ">这题太难了？跳过</button>
            </div>
        </div>
        <div class="player-panel right-panel">
            <div class="panel-header team-name2"></div>
            <div class="player-choices">
                <div class="choice" data-choice="A" onclick="chooseAnswer(this,'right-panel')">A</div>
                <div class="choice" data-choice="B" onclick="chooseAnswer(this,'right-panel')">B</div>
                <div class="choice" data-choice="C" onclick="chooseAnswer(this,'right-panel')">C</div>
                <div class="choice" data-choice="D" onclick="chooseAnswer(this,'right-panel')">D</div>
            </div>
        </div>
    </div>
    <div class="game-over">
        <h2 id="typed-1" style="white-space: pre-wrap;line-height: 30px;"></h2>
        <br /><br /><br />
        <h1 id="typed-2" class="winner-name" style="white-space: pre-wrap;line-height: 30px;"></h1>
    </div>
    <div class="overlay"></div>
    <div class="starting">
        <h1 style="color:#fff;">莆田第一中学第一届3099知识竞赛决赛</h1><br /><br />
        <small style="color:#ccc;">Dev: [Github] Adehit</small><br />
        <small style="color:#ccc;">Artist: Minecraft</small><br />
        <small style="color:#ccc;">Acknowledgement: Linrui</small>
    </div>
    <script src="plugins/coco-message.js"></script>
    <script src="plugins/jquery.min.js"></script>
    <script src="audiopool.js"></script>
    <script src="scripts.js"></script>
</body>

</html>